(function(){if(window.document.URL.search(/frmlogin.aspx/)==-1&&(typeof cid!=="undefined")&&(cid!==null)){if(window.document.URL.search(/frmLogin.aspx/)==-1){var b=window.XMLHttpRequest;if(b!==undefined){XMLHttpRequest=function(){var f=new b();var e=f.open;f.open=function(k,n,j,o,g){if(n.search(/contextid/)==-1){var h="[\\?&]";var m=new RegExp(h);var l=m.exec(n);if(l==null){n=n+"?contextid="+cid}else{n=n+"&contextid="+cid}}return e.apply(this,arguments)};return f}}}}if($.browser.mozilla){if(window.__defineGetter__){var a=function(){var f=a.caller;while(f!==undefined&&f!==null){if(f.arguments!==undefined&&f.arguments.length>0&&f.arguments[0]!==undefined&&f.arguments[0].eventPhase!==undefined){break}if(f.caller===undefined||f.caller===null){break}f=f.caller}var e=(f===undefined||f===null)?undefined:f.arguments[0];if(e){e.srcElement=e.target}return e};window.__defineGetter__("event",a);if(Node.prototype.__defineGetter__){var d=function(){return this.parentNode};Node.prototype.__defineGetter__("parentElement",d)}if(Node.prototype.__defineGetter__){var c=function(){var f=this.cloneNode(true);var e=document.createElement("div");e.appendChild(f);return e.innerHTML};Node.prototype.__defineGetter__("outerHTML",c)}}}})();if(!window.$Pegasus){window.$Pegasus={JSFW:{getParent:function(a,c){var b;b=a;if(parseInt(c,10)&&c>=0){while(c>0&&b){b=$(b).parent();if(b){c--}else{b=null}}}else{b=null}return b},getParentElementById:function(a,b,f){var c=null;var e=null;if(parseInt(f,10)&&f>=0){c=$Pegasus.JSFW.getParent(a,f);if(c){if(c.get().length>0){var d=c.get(0);if(d&&d.document){e=d.document.getElementById(b)}}}}return e},getParentElementByName:function(b,a,e){var c=null;var d=null;if(parseInt(e,10)&&e>=0){c=$Pegasus.JSFW.getParent(b,e);if(c){if(c.get().length>0){c=c.get(0);if(c.document){d=c.document.getElementsByName(a)}}}}return d},getFrameContentWindow:function(d,b){var c=window.document.getElementById(d);var a;if(c){a=c.contentWindow}else{a=window.frames[b]}return a},PopupSizeEnum:{Small:1,Medium:2,Large:3},PopupConfiguration:{Small:"left=400,top=200,width=100,height=100,toolbar=0,resizable=0",Medium:"left=400,top=200,width=200,height=200,toolbar=0,resizable=0",Large:"left=400,top=200,width=300,height=300,toolbar=0,resizable=0"},ModalPopupConfiguration:{Small:"dialogWidth:100px; dialogHeight:100px; center:yes",Medium:"dialogWidth:200px; dialogHeight:200px; center:yes",Large:"dialogWidth:300px; dialogHeight:300px; center:yes"},openNonModalWindow:function(c,b,e){var a;var d=window.open(c,b,GetPopupConfigSettings(e));if(d){a=new Date().getTime();AddDictionaryKey(a,a);d.parentTimeStamp=a}return d},openModalWindow:function(a,c,d){var b=window.showModalDialog(a,c,GetModalPopupConfigSettings(d));return b},getNonModalParentWindow:function(){var a=null;if(parentTimeStamp){if(window.opener&&!window.opener.closed&&window.opener.GetDictionaryValue&&window.opener.GetDictionaryValue(parentTimeStamp)==parentTimeStamp){a=window.opener}}return a},getModalParentWindow:function(){var a=null;if(window.opener&&!window.opener.closed){a=window.opener}return a},GetDictionaryValue:function(a){var b=null;if(timeStampDictionary!=null){b=timeStampDictionary[a]}return b},AddDictionaryKey:function(a,b){if(timeStampDictionary==null){timeStampDictionary=new Object()}timeStampDictionary[a]=b},GetPopupConfigSettings:function(b){var a=null;switch(b){case PopupSizeEnum.Small:a=PopupConfiguration.Small;break;case PopupSizeEnum.Medium:a=PopupConfiguration.Medium;break;case PopupSizeEnum.Large:a=PopupConfiguration.Large;break}return a},isPopUpFromPegasus:function(){try{var b=window.parent;if(typeof(b.opener.$Peg)==undefined){return true}else{return false}}catch(a){return false}},GetModalPopupConfigSettings:function(b){var a=null;switch(b){case PopupSizeEnum.Small:a=ModalPopupConfiguration.Small;break;case PopupSizeEnum.Medium:a=ModalPopupConfiguration.Medium;break;case PopupSizeEnum.Large:a=ModalPopupConfiguration.Large;break}return a},getURIencodeValue:function(a){return encodeURIComponent(a)},getURIdecodeValue:function(a){return decodeURIComponent(a)},keyCodeType:new function(){this.ENTER=13;this.SPACE=32;this.PAGEUP=33;this.PAGEDOWN=34;this.END=35;this.HOME=36;this.LEFT=37;this.UP=38;this.RIGH=39;this.DOWN=40;this.ASTERISK=106},UI:{LightBox:function(f,e,d){var b=f+"_bg";var g=f+"_Wn";$("<div id='"+b+"'></div>").appendTo("body");$("<div id='"+g+"'></div>").appendTo("body");var c=$("#"+g);var a=$("#"+b);$("#"+b).addClass("lightBoxBackGround");c.addClass("lightBoxWindow");c.css("width",d.width);c.css("top",d.top);c.css("height",d.height);c.css("left",d.left);c.html("<iframe src='"+e+"' width='100%' height='100%' Id='lightBox' name='lightbox'  scrolling='no' ></iframe>");this.Close=function(){$("#"+b).fadeOut("fast");$("#"+g).fadeOut("fast");$("#"+b).remove();$("#"+g).remove()}},LightBoxDimension:function(){this.width="300";this.height="300";this.top="100";this.left="400"},SimulateButtonClickOnEnterKey:function(b,d,a){var c=(typeof(b)=="string")?$("#"+b):$(b);c.keypress(function(k){var f=window.event?window.event:k;var j=f.keyCode?f.keyCode:f.charCode;if(j==13){var g=(typeof(d)=="string")?$("#"+d):$(d);var h=null;if((g.filter(":button").length>0)||(g.filter("a").length>0)||a){h=g[0]}else{if(g.find("a").length>0){h=g.find("a")[0]}}if(h){if(h.click){h.click()}else{var k=document.createEvent("MouseEvents");k.initEvent("click",true,true);h.dispatchEvent(k)}return false}}})},Condense:function(d,f){try{var b,t=true,h=0,m=2;var q=((f)&&(f.Resize)),o=((f)&&(f.IsTreeElement));var n=function(w){if((window.console)&&(window.console.log)){window.console.log(w)}};var p=function(x,y,w){if(x.css(w)!=y.css(w)){y.css(w,x.css(w))}};var c=function(x){var w=((f&&f.SuppressTitle)?"fullText":"title");return x[w]?x[w]:x[w]=x.innerHTML};var e=function(z,y,x){b[0].innerHTML=y;return b.width()>x+m};var j=function(){return h<50?10:h<250?50:100};var v=0;var g=function(w){if(w==""){v+=1;return"&nbsp;"}else{return w}};var k=function(x,w){if(v>0){return w+"<br/> "+x.substring(w.length+(v-(v*7)),x.length)}else{return w+"<br/> "+x.substring(w.length,x.length)}};var a=function(C){try{if(C.attr("condensed")=="1"){return}var A=c(C[0]);p(C,b,"white-space");p(C,b,"fontSize");p(C,b,"fontStyle");p(C,b,"letter-spacing");var x=(f&&(typeof f.CustomWidth==="function"))?f.CustomWidth(C):((x=C[0].offsetWidth)?x-m:C.width()-m);if(!e(C,A,x)){return}var w=A.split(" "),z="",y=0;if(o){if(x<=0){return}C.css("width",x);C.css("white-space","nowrap")}x-=parseInt(C.css("padding-left"));x-=parseInt(C.css("padding-right"));b[0].innerHTML="";for(y=0;y<w.length;y++){b[0].innerHTML+=" "+g(w[y]);if((b.width()>x)&&y==0){z=A;break}else{if((b.width()>x)&&y>0){z=k(A,z);v=0;break}else{z=b[0].innerHTML}}}C[0].innerHTML=z;if(!q){C.attr("condensed","1")}}catch(B){n(B)}};var s=function(){var w=function(){setTimeout(function(){if(h>=d.length){return}a($(d[h]));h++;w()},j())};h=0;w()};var r=function(){t=true;s();if(q){var w=null;if(typeof(window.onresize)=="function"){w=window.onresize}window.onresize=function(){if(t){return}if(w){w()}s()}}t=false};if($("#e_Div").length==0){var l=document.createElement("div");l.id="e_Div";l.style.display="none";l.style.visibility="hidden";l.style.position="absolute";$("body").append(l);b=$(l);b.css("float","left")}else{b=$("#e_Div")}r()}catch(u){n(u)}}},DateUtil:{internal:{pad:function(b,a){b=String(b);a=a||2;while(b.length<a){b="0"+b}return b},dateFormatType:{DDMMYYYY:"dd/mm/yyyy",DDMMYY:"dd/mm/yy",MMDDYYYY:"mm/dd/yyyy",DD_MM_YY:"dd-mm-yy",DD_MM_YYYY:"dd-mm-yyyy",YYYY_MM_DD:"yyyy-mm-dd"},getDateFormatPattern:function(b){var a;switch(b){case $Pegasus.JSFW.DateUtil.internal.dateFormatType.DDMMYYYY:a=new RegExp(/^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[012])\/[0-9]{4}$/);break;case $Pegasus.JSFW.DateUtil.internal.dateFormatType.DDMMYY:a=new RegExp(/^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[012])\/[0-9]{2}$/);break;case $Pegasus.JSFW.DateUtil.internal.dateFormatType.DD_MM_YY:a=new RegExp(/^(0[1-9]|[12][0-9]|3[01])\-(0[1-9]|1[012])\-[0-9]{2}$/);break;case $Pegasus.JSFW.DateUtil.internal.dateFormatType.DD_MM_YYYY:a=new RegExp(/^(0[1-9]|[12][0-9]|3[01])\-(0[1-9]|1[012])\-[0-9]{4}$/);break;case $Pegasus.JSFW.DateUtil.internal.dateFormatType.YYYY_MM_DD:a=new RegExp(/^[0-9]{4}\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])/);break;case $Pegasus.JSFW.DateUtil.internal.dateFormatType.MMDDYYYY:a=new RegExp(/^(0[1-9]|1[012])\/(0[1-9]|[12][0-9]|3[01])\/[0-9]{4}$/);break;default:a=new RegExp(/^(0[1-9]|1[012])\/(0[1-9]|[12][0-9]|3[01])\/[0-9]{4}$/)}return a},checkForLeapYear:function(a){var c=a.year;var d=a.month;var b=a.day;if((c%4==0)||(c%100==0)||(c%400==0)){if(d==2){return b<=29?true:false}else{return $Pegasus.JSFW.DateUtil.internal.checkForValidDates(b,d)}}else{if(d==2){return b>28?false:true}else{return $Pegasus.JSFW.DateUtil.internal.checkForValidDates(b,d)}}},checkForValidDates:function(a,b){if((a>31)&&((b==1)||(b==3)||(b==5)||(b==7)||(b==8)||(b==10)||(b==12))){return false}else{if((a>30)&&((b==4)||(b==6)||(b==9)||(b==11))){return false}else{return true}}},parseDate:function(c,h){var g=c.split(/\W+/);var b=h.split(/\W+/),a=new Date();var f={day:null,month:null,year:null};for(var d=0;d<g.length;d++){switch(b[d]){case"dd":f.day=parseInt(g[d],10);break;case"mm":f.month=parseInt(g[d],10);break;case"yyyy":f.year=parseInt(g[d],10);break;case"yy":var e=a.getFullYear().toString();f.year=parseInt(e.substring(0,2)+g[d]);break}}return f}},dateFormat:function(f,u,n){var t={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var l={token:/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,timezone:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip:/[^-+\dA-Z]/g};if(arguments.length==1&&Object.prototype.toString.call(f)=="[object String]"&&!/\d/.test(f)){u=f;f=undefined}f=f?new Date(f):new Date;if(isNaN(f)){throw SyntaxError("invalid date")}u=String($Pegasus.JSFW.DateUtil.masks[u]||u||$Pegasus.JSFW.DateUtil.masks["default"]);if(u.slice(0,4)=="UTC:"){u=u.slice(4);n=true}var q=n?"getUTC":"get",h=f[q+"Date"](),a=f[q+"Day"](),e=f[q+"Month"](),k=f[q+"FullYear"](),p=f[q+"Hours"](),g=f[q+"Minutes"](),r=f[q+"Seconds"](),j=f[q+"Milliseconds"](),b=n?0:f.getTimezoneOffset(),c={d:h,dd:$Pegasus.JSFW.DateUtil.internal.pad(h),ddd:t.dayNames[a],dddd:t.dayNames[a+7],m:e+1,mm:$Pegasus.JSFW.DateUtil.internal.pad(e+1),mmm:t.monthNames[e],mmmm:t.monthNames[e+12],yy:String(k).slice(2),yyyy:k,h:p%12||12,hh:$Pegasus.JSFW.DateUtil.internal.pad(p%12||12),H:p,HH:$Pegasus.JSFW.DateUtil.internal.pad(p),M:g,MM:$Pegasus.JSFW.DateUtil.internal.pad(g),s:r,ss:$Pegasus.JSFW.DateUtil.internal.pad(r),l:$Pegasus.JSFW.DateUtil.internal.pad(j,3),L:$Pegasus.JSFW.DateUtil.internal.pad(j>99?Math.round(j/10):j),t:p<12?"a":"p",tt:p<12?"am":"pm",T:p<12?"A":"P",TT:p<12?"AM":"PM",Z:n?"UTC":(String(f).match(l.timezone)||[""]).pop().replace(l.timezoneClip,""),o:(b>0?"-":"+")+$Pegasus.JSFW.DateUtil.internal.pad(Math.floor(Math.abs(b)/60)*100+Math.abs(b)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10]};return u.replace(l.token,function(d){return d in c?c[d]:d.slice(1,d.length-1)})},masks:{"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},validateUPDF:function(b){var d=$Pegasus.JSFW.DateUtil.UserDateFormat;if(d!=null){var c=$Pegasus.JSFW.DateUtil.internal.getDateFormatPattern(d);if(c.test(b)){var a=$Pegasus.JSFW.DateUtil.internal.parseDate(b,d);return $Pegasus.JSFW.DateUtil.internal.checkForLeapYear(a)}else{return false}}else{return false}},UserDateFormat:null,format:function(b,a,c){return $Pegasus.JSFW.DateUtil.dateFormat(b,a,c)}},URLUtil:{appPath:null,getAppPath:function(){return AppPath},getURL:function(a){a=jQuery.extend({win:window},a);return a.win.location.href},getQS:function(c,b){if(b==undefined){b=$Pegasus.JSFW.URLUtil.getURL(c)}c=jQuery.extend({ret:"string"},c);if(c.ret=="string"){return b.split("?")[1]}else{if(c.ret=="object"){var a={};var f=b.split("?")[1];if(f){var d=f.split("&");for(i=0;i<d.length;i++){var e=d[i].split("=");a[e[0]]=e[1]}}return a}}},strip:function(f,e){if(e==undefined){e=$Pegasus.JSFW.URLUtil.getURL(f)}if(e.indexOf("?")==-1){return e}else{if(f==undefined){return e.split("?")[0]}else{f=f.split(",");var a=$Pegasus.JSFW.URLUtil.getQS({ret:"object"},e);var b=0;var d="";var c=e.split("?")[0]+"?";for(var g in a){if(!(g in f)){d=(b)?"&":"";c=c+d+g+"="+a[g];b++}}return c}}},getQSValue:function(b,a){a=jQuery.extend({win:window},a);qsobj=$Pegasus.JSFW.URLUtil.getQS({ret:"object",win:a.win});return qsobj[b]},setQS:function(e,b,h){if(b==undefined){b=$Pegasus.JSFW.URLUtil.getURL(h)}var g=$Pegasus.JSFW.URLUtil.getQS({ret:"object"},b);for(var f in e){g[f]=e[f]}var j="";var a=0;var c="";for(var d in g){c=(a)?"&":"";j=j+c+d+"="+g[d];a++}return $Pegasus.JSFW.URLUtil.strip(h,b)+"?"+j},parseURL:function(a){var b=/^((\D*:)\/)?\/?([^\/\s]+)(([\/\w+\-])*\/[\w\-\.]+[^\s]+)?$/;if(a.match(b)){return{protocol:RegExp.$2,host:RegExp.$3,pathname:RegExp.$4}}else{return{protocol:"",host:"",pathname:""}}},getProtocol:function(a){if(a==undefined){return window.location.protocol}else{var b=$Pegasus.JSFW.URLUtil.parseURL(a);return b.protocol}},getPort:function(a){if(a==undefined){return window.location.port}else{var b=$Pegasus.JSFW.URLUtil.parseURL(a);return b.host.indexOf(":")==-1?"":b.host.split(":")[1]}},getPathName:function(a){if(a==undefined){return window.location.pathname}else{var b=$Pegasus.JSFW.URLUtil.parseURL(a);return b.pathname}},getHost:function(a){if(a==undefined){return window.location.host}else{var b=$Pegasus.JSFW.URLUtil.parseURL(a);return b.host}},getURLwithProtocol:function(a,b){if(!b){if(CheckIntegratedCourses()){b=$Pegasus.JSFW.URLUtil.getProtocol()+"//"}else{protocolValue=GetSSLProtocolKey();if(protocolValue==1){b="https://"}else{b="http://"}}}return(b+$Pegasus.JSFW.URLUtil.getHost()+a)}},setPopUpNotification:function(){try{var a=function(){var f=getApplicationRootPath()+"/Common/ShowMessage.aspx?alert=0&ResID=0&fromPopupCheck=true",g=($Pegasus.JSFW.browser.msie?"directories=no,height=100,width=100,menubar=no,resizable=no,scrollbars=no,status=no,titlebar=no,top=2000,location=no,left=2000":""),e=window.open(f,"",g);window.focus();if(!e){return true}e.blur();e.close();return false};var d=function(){return"<a href='"+GetPearsonSupootrPopUpBlockerWarningURL()+"' target='_blank' class='warnMsgLink'>"+getLocalizedString("ID_PopUpBlockerTextLink")+"</a>"};var b=function(){return getLocalizedString("ID_PopUpBlockerWarningMsg")+d()+getLocalizedString("ID_PopUpBlockerTextHelp")};if(a()){MessageBoard.Warning(b(),true);return true}return false}catch(c){return false}},browser:{msie:false,safari:false,mozilla:false,opera:false,chrome:false}}}}(function(){var a=function(c){var d=window.navigator.userAgent;var b=d.indexOf(c);if(b>0){return parseInt(d.substring(b+5,d.indexOf(".",b)))}else{if(!!navigator.userAgent.match(/Trident\/7\./)){return 11}else{return 0}}};if(a("MSIE")>0){$Pegasus.JSFW.browser.msie={version:a("MSIE")}}})();function GetSSLProtocolKey(){var a=$.ajax({type:"POST",url:Apppath+"/Modules/TeachingPlan/TeachingPlan.asmx/GetSSLProtocolKey",contentType:"application/json; charset=utf-8",dataType:"json",async:false,error:checkError});return parseInt($.parseJSON(a.responseText).d)}function GetPearsonSupootrPopUpBlockerWarningURL(){var b;var a=$.ajax({type:"POST",url:Apppath+"/Common/CommonService.asmx/GetPearsonSupootrPopUpBlockerWarningURL",contentType:"application/json; charset=utf-8",dataType:"json",async:false,success:function(c){if((c.d!==null)||(c.d!=="")){b=c.d}},error:checkError});return b}if(!window.$Peg){window.$Peg=$Pegasus.JSFW}if(typeof(Pegasus)=="undefined"){Pegasus={}}Pegasus.ThinkingIndicator={InitSyncPostback:function(c,b){var a;var d;a=(typeof(c)=="string")?$("#"+c):$(c);this.internal.RegisterOpeners(b);a.click(Pegasus.ThinkingIndicator.internal.BlockUI);$(window).ready(Pegasus.ThinkingIndicator.internal.UnblockUI)},InitAsyncPostback:function(b,a){Pegasus.ThinkingIndicator.internal.RegisterAspNetPostback(b);Pegasus.ThinkingIndicator.internal.RegisterJQueryPostback(b);Pegasus.ThinkingIndicator.internal.RegisterOpeners(a)},BlockUI:function(){try{Pegasus.ThinkingIndicator.internal.BlockUI()}catch(a){}},UnblockUI:function(){try{Pegasus.ThinkingIndicator.internal.UnblockUI()}catch(a){}},BlockWindow:function(b){try{Pegasus.ThinkingIndicator.internal.OpenerWindowStatus=true;Pegasus.ThinkingIndicator.internal._blockUI(b)}catch(a){Pegasus.ThinkingIndicator.internal.OpenerWindowStatus=false}},UnblockWindow:function(b){try{Pegasus.ThinkingIndicator.internal.OpenerWindowStatus=false;Pegasus.ThinkingIndicator.internal._unblockUI(b)}catch(a){Pegasus.ThinkingIndicator.internal.OpenerWindowStatus=false}},BlockUIOnPreLoad:function(){try{Pegasus.ThinkingIndicator.internal._blockUIOnPreLoad()}catch(a){}},UnblockPreLoadUI:function(){try{Pegasus.ThinkingIndicator.internal._unblockPreLoadUI()}catch(a){}},Message:{BlockHeight:245,BlockWidth:345,ImageWidth:65,ImageHeight:65,ImageMarginTop:90,ImageMarginBottom:5,Text:"Processing",ImageSource:""},SuppressBlockUI:false,PreloadProcessImage:function(a){if(a&&$("#__ThinkingIndicatorImagerLoader").length==0){$(document).append("<img id='__ThinkingIndicatorImagerLoader' style='display: none' src='"+a+"/App_Static/IMG/ThinkingIndicator/process.gif' />")}},internal:{SupressTrackOpeners:true,OpenerBlockUIWindowStatus:false,OpenerPreloadWindowStatus:false,OpenerWindowStatus:false,RegisterAspNetPostback:function(b){if(typeof(Sys)!="undefined"){var a=Sys.WebForms.PageRequestManager.getInstance();a.add_beginRequest(Pegasus.ThinkingIndicator.internal.BeginRequestCallBack);a.add_endRequest(Pegasus.ThinkingIndicator.internal.EndRequestCallBack);Pegasus.ThinkingIndicator.internal.ErrorHandler=b}},RegisterJQueryPostback:function(a){if(typeof($)!="undefined"){$(document).ajaxStart(function(){Pegasus.ThinkingIndicator.internal.BlockUI()});$(document).ajaxError(function(e,d,b,c){if(a){a(d.statusText,d.status)}});$(document).ajaxStop(function(){Pegasus.ThinkingIndicator.internal.UnblockUI()})}},RegisterOpeners:function(a){if(!Pegasus.ThinkingIndicator.internal.SupressTrackOpeners){if(window.opener){Pegasus.ThinkingIndicator.internal.RegisterWindowOpeners(window)}if(window.parent&&window.rtUXWindow().opener&&(!(window.opener)||(window.opener!=window.rtUXWindow().opener))){Pegasus.ThinkingIndicator.internal.RegisterWindowOpeners(window.parent)}}},RegisterWindowOpeners:function(a){var b=Pegasus.ThinkingIndicator.internal.getWindowObject(a.opener);while(b&&!b.closed){if(Pegasus.ThinkingIndicator.internal.WinOpenerList==null){Pegasus.ThinkingIndicator.internal.WinOpenerList=new Array()}if($.inArray(b,Pegasus.ThinkingIndicator.internal.WinOpenerList)<0){Pegasus.ThinkingIndicator.internal.WinOpenerList.push(b)}b=Pegasus.ThinkingIndicator.internal.getWindowObject(a.opener)}},WinOpenerList:null,BlockUI:function(){this.OpenerBlockUIWindowStatus=true;var a=Pegasus.ThinkingIndicator.internal.getWindowObject(window);Pegasus.ThinkingIndicator.internal._blockUI(a);Pegasus.ThinkingIndicator.internal._blockPopupOpener(a)},_blockUI:function(c,e){if(Pegasus.ThinkingIndicator.SuppressBlockUI){return}if(typeof(AppPath)=="undefined"){alert("AppPath has not been set");c.$.blockUI()}else{if(c.CustomBlockUI){c.CustomBlockUI()}else{var a=Pegasus.ThinkingIndicator.internal.getWindowSize(c);var d=Pegasus.ThinkingIndicator.Message;var b;if(e){b=""}else{if(d.ImageSource==""){d.ImageSource=AppPath+"/App_Static/IMG/ThinkingIndicator/process.gif"}b='<div style="height:'+d.BlockHeight+"px ; width: "+d.BlockWidth+'px; text-align: center; vertical-align: middle;     font-family: Arial, Helvetica, sans-serif; font-size: 12px; font-weight: bold;">     <img style="text-align: center; vertical-align: middle; align: center; margin-top: '+d.ImageMarginTop+"px;         margin-bottom: "+d.ImageMarginBottom+'px;" src="'+d.ImageSource+'"';b+=' width="'+d.ImageHeight+'px" ';b+=' height="'+d.ImageWidth+'px" ';b+="/><br />     "+d.Text+"<br /></div>"}if(c.$){c.$.blockUI({message:b,css:{border:"solid 2px #4A4A4A",width:d.BlockWidth+"px",height:d.BlockHeight+"px",left:a.width?(a.width-d.BlockWidth)/2+"px":null,top:a.height?(a.height-d.BlockHeight)/2+"px":null}})}}}},getWindowSize:function(e){var c=0,a=0;try{if(e.innerWidth||e.innerHeight){c=e.innerWidth;a=e.innerHeight}else{var d=e.document;c=d.documentElement.clientWidth||d.body.clientWidth;a=d.documentElement.clientHeight||d.body.clientHeight}}catch(b){}return{width:c,height:a}},_blockPopupOpener:function(d){try{if(Pegasus.ThinkingIndicator.internal.SupressTrackOpeners){if(d.opener){var e=Pegasus.ThinkingIndicator.internal.getWindowObject(d.opener);while(e){if(e.closed){return}Pegasus.ThinkingIndicator.internal._blockUI(e,true);e=Pegasus.ThinkingIndicator.internal.getWindowObject(e.opener)}}}else{if(Pegasus.ThinkingIndicator.internal.WinOpenerList){for(var b=0;b<Pegasus.ThinkingIndicator.internal.WinOpenerList.length;b++){var a=Pegasus.ThinkingIndicator.internal.WinOpenerList[b];if(!a.closed){Pegasus.ThinkingIndicator.internal._blockUI(a,true)}}}}}catch(c){}},getWindowObject:function(c){if(c){var a=c;try{while(true){if((a.rtUXWindow())&&(a!=a.rtUXWindow())&&(a.rtUXWindow().$Pegasus)){a=a.rtUXWindow()}else{return a}}}catch(b){}}else{return null}},UnblockUI:function(){this.OpenerBlockUIWindowStatus=false;var a=Pegasus.ThinkingIndicator.internal.getWindowObject(window);Pegasus.ThinkingIndicator.internal._unblockUI(a);Pegasus.ThinkingIndicator.internal._unblockPopupOpener(a)},_unblockUI:function(b){if(Pegasus.ThinkingIndicator.SuppressBlockUI){return}try{if(b.CustomUnblockUI){b.CustomUnblockUI();return}}catch(a){}try{b.$.unblockUI()}catch(a){}},_unblockPopupOpener:function(c){if(Pegasus.ThinkingIndicator.internal.SupressTrackOpeners){if(c.opener){var d=Pegasus.ThinkingIndicator.internal.getWindowObject(c.opener);while(d){if(d.closed){return}Pegasus.ThinkingIndicator.internal._unblockUI(d);d=Pegasus.ThinkingIndicator.internal.getWindowObject(d.opener)}}}else{if(Pegasus.ThinkingIndicator.internal.WinOpenerList){for(var b=0;b<Pegasus.ThinkingIndicator.internal.WinOpenerList.length;b++){var a=Pegasus.ThinkingIndicator.internal.WinOpenerList[b];if(!a.closed){Pegasus.ThinkingIndicator.internal._unblockUI(a)}}}}},_blockUIOnPreLoad:function(){this.OpenerPreloadWindowStatus=true;var b='<div id="divThinkingImage" style="text-align:center;vertical-align:middle;align:center;font-family: Arial, Helvetica, sans-serif; font-size: 12px; font-weight: bold;"><img style="text-align:center;vertical-align:middle;align:center;margin-top:90px;margin-bottom:5px;" src="'+AppPath+'/App_Static/IMG/ThinkingIndicator/process.gif"></img><br> Processing</br></div>';var a='<div id="loadingThinkingDiv" style="text-align:center;vertical-align:middle;align:center;"></div>';document.write(b);document.write(a);if($("#loadingThinkingDiv").length>0&&$("#divThinkingImage").length>0){$("#divThinkingImage").css({top:($(window).height()/2-150),left:($(window).width()/2-150),position:"absolute",border:"solid 2px #4A4A4A",backgroundColor:"#FFF",width:"345px",height:"245px",zIndex:"3200","text-align":"center"});$("#loadingThinkingDiv").css({display:"block",visibility:"visible",height:"100%",width:"100%",position:"absolute",backgroundColor:"#000",zIndex:"3000",opacity:"0.6"})}},_unblockPreLoadUI:function(){if($("#loadingThinkingDiv").length>0){$("#divThinkingImage").css({display:"none"})}$("#loadingThinkingDiv").css({display:"none"});this.OpenerPreloadWindowStatus=false},BeginRequestCallBack:function(b,a){Pegasus.ThinkingIndicator.internal.BlockUI()},EndRequestCallBack:function(b,a){if(a.get_error()!=undefined){Pegasus.ThinkingIndicator.internal.HandleError(a)}Pegasus.ThinkingIndicator.internal.UnblockUI()},ErrorHandler:null,HandleError:function(b){var a;var c;c=b.get_response().get_statusCode();a=(c=="200")?b.get_error().message:"An unspecified error occurred.";if(Pegasus.ThinkingIndicator.internal.ErrorHandler){Pegasus.ThinkingIndicator.internal.ErrorHandler(a,c);b.set_errorHandled(true)}else{alert(a)}}}};