(function(c){var d={outputMode:"label",cssClass:"error",modalErrorsClickable:true,scrollTo:false,displaymode:"inline",defaultFieldName:"This field",argToString:function(e){return e.getDate?(e.getMonth()+1)+"/"+e.getDate()+"/"+e.getFullYear():e}};c.validity={settings:c.extend(d,{}),patterns:{integer:/^\d+$/,usd:/^\$?(\d{1,3},?(\d{3},?)*\d{3}(\.\d{0,2})?|\d{1,3}(\.\d{0,2})?|\.\d{1,2}?)$/,number:/^[+-]?(\d+(\.\d*)?|\.\d+)([Ee]\d+)?$/,zip:/^\d{5}(-\d{4})?$/,phone:/^[2-9]\d{2}-\d{3}-\d{4}$/,guid:/^(\{?([0-9a-fA-F]){8}-(([0-9a-fA-F]){4}-){3}([0-9a-fA-F]){12}\}?)$/,time12:/^[01]?\d:[0-5]\d?\s?[aApP]\.?[mM]\.?$/,time24:/^(20|21|22|23|[01]\d|\d)(([:][0-5]\d){1,2})$/,nonHtml:/^[^<>]*$/,date:/^((0?\d)|(1[012]))\/([012]?\d|30|31)\/\d{1,4}$/,dateISO:/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,url:/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/},messages:{require:"#{field} is required.",date:"#{field} must be formatted as a date.",dateISO:"#{field} must be formatted as a dateISO.",email:"#{field} must be formatted as an email.",url:"#{field} must be formatted as a URL.",usd:"#{field} must be formatted as a US Dollar amount.",distinct:"A value was repeated.",max:"#{field} sholud be maximum of #{max}.",min:"#{field} should be minimum of #{min}.",range:"#{field} must be between #{min} and #{max}.",minLength:"#{field} cannot be shorter than #{min} characters.",maxLength:"#{field} cannot be longer than #{max} characters.",rangeLength:"#{field} should be between #{min} and #{max} characters.",equalTo:"#{field} should match with above feild.",match:"#{field} is in an invalid format.",number:"#{field} must be formatted as a number.",zip:"#{field} must be formatted as a zipcode ##### or #####-####.",phone:"#{field} must be formatted as a phone number ###-###-####.",guid:"#{field} must be formatted as a guid like {3F2504E0-4F89-11D3-9A0C-0305E82C3301}.",time24:"#{field} must be formatted as a 24 hour time: 23:00.",time12:"#{field} must be formatted as a 12 hour time: 12:00 AM/PM",integer:"#{field} must be a positive, whole number.",nonHtml:"#{field} cannot contain HTML characters."},outputs:{},setup:function(e){this.settings=c.extend(this.settings,e)},report:null,isShowmsg:null,isValidating:function(){return !!this.report},start:function(){if(this.settings.displaymode=="inline"){c.validity.isShowmsg=true}else{if(this.settings.displaymode=="disable"||this.settings.displaymode=="function"){c.validity.isShowmsg=false}}if(this.outputs[this.settings.outputMode]&&this.outputs[this.settings.outputMode].start){this.outputs[this.settings.outputMode].start()}this.report={errors:0,valid:true}},end:function(){var e=this.report||{errors:0,valid:true};this.report=null;if(this.outputs[this.settings.outputMode]&&this.outputs[this.settings.outputMode].end){this.outputs[this.settings.outputMode].end(e)}return e},validate:function(j,e,f){var h=(j.reduction||j),g=[];h.each(function(){if(e(this)){g.push(this)}else{c.validity.raiseError(this,c.validity.format(f,{field:c.validity.infer(this)}))}});if(!j.result||c.validity.isShowmsg==false){j.result=c.validity.report.valid}j.reduction=c(g);return j},addToReport:function(){if(c.validity.isValidating()){c.validity.report.errors++;c.validity.report.valid=false}},raiseError:function(e,f){c.validity.addToReport();if(c.validity.outputs[c.validity.settings.outputMode]&&c.validity.outputs[c.validity.settings.outputMode].raise&&c.validity.isShowmsg==true){c.validity.outputs[c.validity.settings.outputMode].raise(c(e),f)}},format:function(g,f){for(var e in f){g=g.replace("#{"+e+"}",f[e])}return c.validity.capitalize(g)},infer:function(j){var f=c(j),g=c.validity.settings.defaultFieldName;if(f.attr("title").length){g=f.attr("title")}else{if(/^([A-Z0-9][a-z]*)+$/.test(j.id)){g=j.id.replace(/([A-Z0-9])[a-z]*/g," $&")}else{if(/^[a-z0-9_]*$/.test(j.id)){var e=j.id.split("_");for(var h=0;h<e.length;++h){e[h]=c.validity.capitalize(e[h])}g=e.join(" ")}}}return g},capitalize:function(e){return e.substring?e.substring(0,1).toUpperCase()+e.substring(1,e.length):e},getIdentifier:function(e){return e.attr("id").length?e.attr("id"):e.attr("name")}};c.fn.extend({validity:function(e,f){return this.each(function(){if(this.tagName.toLowerCase()=="form"){var g=null;if(typeof(e)=="string"){g=function(){c(e).require()}}else{if(c.isFunction(e)){g=e}}if(e){c(this).bind("submit",function(){c.validity.start();g();if(c.validity.report.valid==false&&c.validity.settings.displaymode=="function"){c(this).trigger("ValidateError",c.validity.report)}return c.validity.end().valid})}}else{if(this.tagName.toLowerCase()=="input"){if(c.isFunction(e)){g=e}c(this).bind("blur",function(){c.validity.start();g(this);if(c.validity.report.valid==false&&c.validity.settings.displaymode=="function"){c(this).trigger("ValidateError",c.validity.report)}return c.validity.end().valid})}}})},require:function(e){return c.validity.validate(this,function(g){var h=c(g).val();var f=h.length;return f},e||c.validity.messages.require)},min:function(e,f){return c.validity.validate(this,e.getTime?function(g){return new Date(g.value)>=e}:function(g){return parseFloat(g.value)>=e},f||c.validity.format(c.validity.messages.min,{min:c.validity.settings.argToString(e)}))},max:function(e,f){return c.validity.validate(this,e.getTime?function(g){return new Date(g.value)<=e}:function(g){return parseFloat(g.value)<=e},f||c.validity.format(c.validity.messages.max,{max:c.validity.settings.argToString(e)}))},range:function(f,e,g){return c.validity.validate(this,f.getTime&&e.getTime?function(h){var j=new Date(h.value);return j>=new Date(f)&&j<=new Date(e)}:function(j){var h=parseFloat(j.value);return h>=f&&h<=e},g||c.validity.format(c.validity.messages.range,{min:c.validity.settings.argToString(f),max:c.validity.settings.argToString(e)}))},maxLength:function(e,f){return c.validity.validate(this,function(g){return g.value.length<=e},f||c.validity.format(c.validity.messages.maxLength,{max:e}))},minLength:function(e,f){return c.validity.validate(this,function(g){return g.value.length>=e},f||c.validity.format(c.validity.messages.minLength,{min:e}))},rangeLength:function(f,e,g){return c.validity.validate(this,function(h){return h.value.length>=f&&h.value.length<=e},g||c.validity.format(c.validity.messages.rangeLength,{min:f,max:e}))},email:function(e){return c.validity.validate(this,function(f){return c.validity.patterns.email.test(f.value)},e||c.validity.format(c.validity.messages.email))},url:function(e){return c.validity.validate(this,function(f){return c.validity.patterns.url.test(f.value)},e||c.validity.format(c.validity.messages.url))},date:function(e){return c.validity.validate(this,function(f){return c.validity.patterns.date.test(f.value)},e||c.validity.format(c.validity.messages.date))},dateISO:function(e){return c.validity.validate(this,function(f){return c.validity.patterns.dateISO.test(f.value)},e||c.validity.format(c.validity.messages.dateISO))},equalTo:function(e,f){return c.validity.validate(this,function(g){return g.value==e[0].value},f||c.validity.format(c.validity.messages.equalTo))},match:function(e,f){if(!f){f=c.validity.messages.match;if(typeof(e)==="string"&&c.validity.messages[e]){f=c.validity.messages[e]}}if(typeof(e)=="string"&&c.validity.patterns[e]){e=c.validity.patterns[e]}return c.validity.validate(this,c.isFunction(e)?function(g){return !g.value.length||e(g.value)}:function(g){return !g.value.length||e.test(g.value)},f)},nonHtml:function(e){return c.validity.validate(this,function(f){return c.validity.patterns.nonHtml.test(f.value)},e||c.validity.messages.nonHtml)},distinct:function(n,m){var o=(this.reduction||this),h=function(q){return q},g=c.validity.messages.distinct,p=[],e=true;if(o.length){if(c.isFunction(n)){h=n;if(typeof(m)=="string"){g=m}}else{if(typeof(n)=="string"){g=n}}var f=c.map(o,function(q){return h(q.value)});for(var l=0;l<f.length;++l){if(f[l].length){for(var j=0;j<p.length;++j){if(p[j]==f[l]){e=false;c.validity.raiseError(o[l],g)}}p.push(f[l])}}if(!e){this.reduction=c([])}}return this},alphanumeric:function(e){e=c.extend({ichars:"!@#$%^&*()+=[]\\';,/{}|\":<>?~`.- ",nchars:"",allow:""},e);return this.each(function(){if(e.nocaps){e.nchars+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"}if(e.allcaps){e.nchars+="abcdefghijklmnopqrstuvwxyz"}s=e.allow.split("");for(i=0;i<s.length;i++){if(e.ichars.indexOf(s[i])!=-1){s[i]="\\"+s[i]}}e.allow=s.join("|");var g=new RegExp(e.allow,"gi");var f=e.ichars+e.nchars;f=f.replace(g,"");c(this).keypress(function(h){if(!h.charCode){k=String.fromCharCode(h.which)}else{k=String.fromCharCode(h.charCode)}if(f.indexOf(k)!=-1){h.preventDefault()}if(h.ctrlKey&&k=="v"){h.preventDefault()}});c(this).bind("contextmenu",function(){return false})})},numeric:function(f){var e="abcdefghijklmnopqrstuvwxyz";e+=e.toUpperCase();f=c.extend({nchars:e},f);return this.each(function(){c(this).alphanumeric(f)})},alpha:function(f){var e="1234567890";f=c.extend({nchars:e},f);return this.each(function(){c(this).alphanumeric(f)})}});c.validity.outputs.label={start:function(){c("label."+c.validity.settings.cssClass).remove()},end:function(e){if(!e.valid&&c.validity.settings.scrollTo){location.hash=c("label."+c.validity.settings.cssClass+":eq(0)").attr("for")}},raise:function(g,e){var f="label."+c.validity.settings.cssClass+"[for='"+c.validity.getIdentifier(g)+"']";if(c(f).length){c(f).text(e)}else{c("<label/>").attr("for",c.validity.getIdentifier(g)).addClass(c.validity.settings.cssClass).text(e).click(function(){if(g.length){g[0].select()}}).insertAfter(g)}}};var a="validity-modal-msg",b="body";c.validity.outputs.modal={start:function(){c("."+a).remove()},end:function(e){if(!e.valid&&c.validity.settings.scrollTo){location.hash=c("."+a+":eq(0)").attr("id")}},raise:function(j,h){if(j.length){var g=j.offset(),e=j.get(0),f={left:parseInt(g.left+j.width()+4,10)+"px",top:parseInt(g.top-10,10)+"px"};c("<div/>").addClass(a).css(f).text(h).click(c.validity.settings.modalErrorsClickable?function(){c(this).remove()}:null).appendTo(b)}}}})(jQuery);